//
//  InAppMessage.swift
//  IterableSample
//
//  Created by Christina Schell on 8/15/21.
//

import Foundation

typealias InAppMessageStubs = [InAppMessageStub]
extension InAppMessageStubs {
    init() {
        self = Bundle.main.decode(InAppMessages.self, from: "messages.json").inAppMessages
    }
}

struct InAppMessages: Codable {
    var inAppMessages: InAppMessageStubs
}

struct InAppMessageStub: Codable {
    var createdAt: Int
    var saveToInbox: Bool
    var content: InAppMessageContent
    var trigger: InAppMessageTrigger
    var messageId: String
    var campaignId: String
    var inboxMetadata: InAppMessageMeta
    var customPayload: InAppMessageCustomPayload
}

struct InAppMessageContent: Codable {
    var contentType: String
    var html: String
}

struct InAppMessageTrigger: Codable {
    var type: String
}

struct InAppMessageMeta: Codable {
    var title: String
    var subtitle: String
    var icon: String
    var buttonText: String
}

struct InAppMessageCustomPayload: Codable {
    var discount: String?
}

struct MessageHTMLStubs {
    static let all = [
        "1": "&lt;!DOCTYPE html&gt;<br/>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; &gt;<br/><br/>&lt;head&gt;<br/>    <br/>    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;<br/>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;&gt;<br/>    <br/>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;<br/>    <br/>    &lt;title&gt;&lt;/title&gt;<br/>    <br/>    <br/>    &lt;style type=&quot;text/css&quot;&gt;<br/>        body {<br/>            margin: 0;<br/>            padding: 0;<br/>        }<br/><br/>        table,<br/>        td,<br/>        tr {<br/>            vertical-align: top;<br/>            border-collapse: collapse;<br/>        }<br/><br/>        * {<br/>            line-height: inherit;<br/>        }<br/><br/>        a[x-apple-data-detectors=true] {<br/>            color: inherit !important;<br/>            text-decoration: none !important;<br/>        }<br/>    &lt;/style&gt;<br/>    &lt;style type=&quot;text/css&quot; id=&quot;media-query&quot;&gt;<br/>        @media (max-width: 520px) {<br/><br/>            .block-grid,<br/>            .col {<br/>                min-width: 320px !important;<br/>                max-width: 100% !important;<br/>                display: block !important;<br/>            }<br/><br/>            .block-grid {<br/>                width: 100% !important;<br/>            }<br/><br/>            .col {<br/>                width: 100% !important;<br/>            }<br/><br/>            .col_cont {<br/>                margin: 0 auto;<br/>            }<br/><br/>            img.fullwidth,<br/>            img.fullwidthOnMobile {<br/>                width: 100% !important;<br/>            }<br/><br/>            .no-stack .col {<br/>                min-width: 0 !important;<br/>                display: table-cell !important;<br/>            }<br/><br/>            .no-stack.two-up .col {<br/>                width: 50% !important;<br/>            }<br/><br/>            .no-stack .col.num2 {<br/>                width: 16.6% !important;<br/>            }<br/><br/>            .no-stack .col.num3 {<br/>                width: 25% !important;<br/>            }<br/><br/>            .no-stack .col.num4 {<br/>                width: 33% !important;<br/>            }<br/><br/>            .no-stack .col.num5 {<br/>                width: 41.6% !important;<br/>            }<br/><br/>            .no-stack .col.num6 {<br/>                width: 50% !important;<br/>            }<br/><br/>            .no-stack .col.num7 {<br/>                width: 58.3% !important;<br/>            }<br/><br/>            .no-stack .col.num8 {<br/>                width: 66.6% !important;<br/>            }<br/><br/>            .no-stack .col.num9 {<br/>                width: 75% !important;<br/>            }<br/><br/>            .no-stack .col.num10 {<br/>                width: 83.3% !important;<br/>            }<br/><br/>            .video-block {<br/>                max-width: none !important;<br/>            }<br/><br/>            .mobile_hide {<br/>                min-height: 0px;<br/>                max-height: 0px;<br/>                max-width: 0px;<br/>                display: none;<br/>                overflow: hidden;<br/>                font-size: 0px;<br/>            }<br/><br/>            .desktop_hide {<br/>                display: block !important;<br/>                max-height: none !important;<br/>            }<br/><br/>            .img-container.big img {<br/>                width: auto !important;<br/>            }<br/>        }<br/>    &lt;/style&gt;<br/>&lt;/head&gt;<br/><br/>&lt;body class=&quot;clean-body&quot; style=&quot;margin: 0; padding: 0; -webkit-text-size-adjust: 100%; background-color: #FFFFFF;&quot;&gt;<br/>    <br/>    &lt;table class=&quot;nl-container&quot; style=&quot;table-layout: fixed; vertical-align: top; min-width: 320px; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; background-color: #FFFFFF; width: 100%;&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; role=&quot;presentation&quot; width=&quot;100%&quot; bgcolor=&quot;#FFFFFF&quot; valign=&quot;top&quot;&gt;<br/>        &lt;tbody&gt;<br/>            &lt;tr style=&quot;vertical-align: top;&quot; valign=&quot;top&quot;&gt;<br/>                &lt;td style=&quot;word-break: break-word; vertical-align: top;&quot; valign=&quot;top&quot;&gt;<br/>                    <br/>                    &lt;div style=&quot;background-color:transparent;&quot;&gt;<br/>                        &lt;div class=&quot;block-grid &quot; style=&quot;min-width: 320px; max-width: 500px; overflow-wrap: break-word; word-wrap: break-word; word-break: break-word; Margin: 0 auto; background-color: transparent;&quot;&gt;<br/>                            &lt;div style=&quot;border-collapse: collapse;display: table;width: 100%;background-color:transparent;background-image:undefined;background-position:undefined;background-repeat:undefined&quot;&gt;<br/>                                <br/>                                <br/>                                &lt;div class=&quot;col num12&quot; style=&quot;min-width: 320px; max-width: 500px; display: table-cell; vertical-align: top; width: 500px;&quot;&gt;<br/>                                    &lt;div class=&quot;col_cont&quot; style=&quot;width:100% !important;&quot;&gt;<br/>                                        <br/>                                        &lt;div style=&quot;border-top:0px dotted transparent; border-left:0px dotted transparent; border-bottom:0px dotted transparent; border-right:0px dotted transparent; padding-top:5px; padding-bottom:5px; padding-right: 0px; padding-left: 0px;&quot;&gt;<br/>                                            <br/>                                            &lt;div class=&quot;img-container center autowidth&quot; align=&quot;center&quot; style=&quot;padding-right: 0px;padding-left: 0px;&quot;&gt;<br/>                                                &lt;img class=&quot;center autowidth&quot; align=&quot;center&quot; border=&quot;0&quot; src=&quot;https://d15k2d11r6t6rl.cloudfront.net/public/users/Integrators/669d5713-9b6a-46bb-bd7e-c542cff6dd6a/8e170e0f320f441286e94a3099433c6a/donut-logo.jpg&quot; style=&quot;text-decoration: none; -ms-interpolation-mode: bicubic; height: auto; border: 0; width: 450px; max-width: 100%; display: block;&quot; width=&quot;450&quot;&gt;<br/>                                                <br/>                                            &lt;/div&gt;<br/>                                            <br/>                                        &lt;/div&gt;<br/>                                        <br/>                                    &lt;/div&gt;<br/>                                &lt;/div&gt;<br/>                                <br/>                                <br/>                            &lt;/div&gt;<br/>                        &lt;/div&gt;<br/>                    &lt;/div&gt;<br/>                    &lt;div style=&quot;background-color:transparent;&quot;&gt;<br/>                        &lt;div class=&quot;block-grid &quot; style=&quot;min-width: 320px; max-width: 500px; overflow-wrap: break-word; word-wrap: break-word; word-break: break-word; Margin: 0 auto; background-color: transparent;&quot;&gt;<br/>                            &lt;div style=&quot;border-collapse: collapse;display: table;width: 100%;background-color:transparent;&quot;&gt;<br/>                                <br/>                                <br/>                                &lt;div class=&quot;col num12&quot; style=&quot;min-width: 320px; max-width: 500px; display: table-cell; vertical-align: top; width: 500px;&quot;&gt;<br/>                                    &lt;div class=&quot;col_cont&quot; style=&quot;width:100% !important;&quot;&gt;<br/>                                        <br/>                                        &lt;div style=&quot;border-top:0px solid transparent; border-left:0px solid transparent; border-bottom:0px solid transparent; border-right:0px solid transparent; padding-top:5px; padding-bottom:5px; padding-right: 0px; padding-left: 0px;&quot;&gt;<br/>                                            <br/>                                            <br/>                                            &lt;div style=&quot;color:#555555;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:1.2;padding-top:10px;padding-right:10px;padding-bottom:10px;padding-left:10px;&quot;&gt;<br/>                                                &lt;div class=&quot;txtTinyMce-wrapper&quot; style=&quot;font-size: 14px; line-height: 1.2; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: #555555; mso-line-height-alt: 17px;&quot;&gt;<br/>                                                    &lt;p style=&quot;margin: 0; font-size: 18px; line-height: 1.2; word-break: break-word; text-align: center; mso-line-height-alt: 22px; margin-top: 0; margin-bottom: 0;&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;Buy now&lt;/span&gt;&lt;/p&gt;<br/>                                                    &lt;p style=&quot;margin: 0; font-size: 14px; line-height: 1.2; word-break: break-word; text-align: center; mso-line-height-alt: 17px; margin-top: 0; margin-bottom: 0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br/>                                                &lt;/div&gt;<br/>                                            &lt;/div&gt;<br/>                                            <br/>                                            &lt;div class=&quot;button-container&quot; align=&quot;center&quot; style=&quot;padding-top:10px;padding-right:10px;padding-bottom:10px;padding-left:10px;&quot;&gt;<br/>                                                <br/>                                                &lt;div style=&quot;text-decoration:none;display:inline-block;color:#ffffff;background-color:#3AAEE0;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;width:auto; width:auto;;border-top:1px solid #3AAEE0;border-right:1px solid #3AAEE0;border-bottom:1px solid #3AAEE0;border-left:1px solid #3AAEE0;padding-top:5px;padding-bottom:5px;font-family:Arial, Helvetica Neue, Helvetica, sans-serif;text-align:center;mso-border-alt:none;word-break:keep-all;&quot;&gt;&lt;span style=&quot;padding-left:20px;padding-right:20px;font-size:16px;display:inline-block;letter-spacing:undefined;&quot;&gt;&lt;span style=&quot;font-size: 16px; line-height: 2; word-break: break-word; mso-line-height-alt: 32px;&quot;&gt;Order Now&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br/>                                                <br/>                                            &lt;/div&gt;<br/>                                            <br/>                                            &lt;div style=&quot;color:#555555;font-family:Arial, Helvetica Neue, Helvetica, sans-serif;line-height:1.2;padding-top:10px;padding-right:10px;padding-bottom:10px;padding-left:10px;&quot;&gt;<br/>                                                &lt;div class=&quot;txtTinyMce-wrapper&quot; style=&quot;font-size: 14px; line-height: 1.2; color: #555555; font-family: Arial, Helvetica Neue, Helvetica, sans-serif; mso-line-height-alt: 17px;&quot;&gt;<br/>                                                    &lt;p style=&quot;margin: 0; font-size: 14px; line-height: 1.2; word-break: break-word; text-align: center; mso-line-height-alt: 17px; margin-top: 0; margin-bottom: 0;&quot;&gt;&lt;a href=&quot;Iterable://dismiss&quot; target=&quot;_blank&quot; style=&quot;text-decoration: underline; color: #0068A5;&quot; rel=&quot;noopener&quot;&gt;Maybe later&lt;/a&gt;&lt;/p&gt;<br/>                                                &lt;/div&gt;<br/>                                            &lt;/div&gt;<br/>                                            <br/>                                            <br/>                                        &lt;/div&gt;<br/>                                        <br/>                                    &lt;/div&gt;<br/>                                &lt;/div&gt;<br/>                                <br/>                                <br/>                            &lt;/div&gt;<br/>                        &lt;/div&gt;<br/>                    &lt;/div&gt;<br/>                    <br/>                &lt;/td&gt;<br/>            &lt;/tr&gt;<br/>        &lt;/tbody&gt;<br/>    &lt;/table&gt;<br/>    <br/>&lt;/body&gt;<br/><br/>&lt;/html&gt;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no&quot;&gt;"
    ]
}
